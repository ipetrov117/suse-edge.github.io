<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SUSE Edge Documentation | Edge Virtualization</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="Edge Virtualization"/>
<meta name="description" content="In this section we’re going to describe how you can use Edge Virtualization to run virtual machines on your edge nodes. It’s important to point out t…"/>
<meta name="book-title" content="SUSE Edge Documentation"/>
<meta name="chapter-title" content="Chapter 15. Edge Virtualization"/>
<meta name="tracker-url" content="https://github.com/suse-edge/suse-edge.github.io/issues/new"/>
<meta name="tracker-type" content="gh"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="Edge Virtualization"/>
<meta property="og:description" content="In this section we’re going to describe how you can use Edg…"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Edge Virtualization"/>
<meta name="twitter:description" content="In this section we’re going to describe how you can use Edg…"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
    "inLanguage": "en",
    

    "headline": "Edge Virtualization",
  
    "description": "Edge Virtualization",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      
    "dateModified": "2024-04-02T00:00+02:00",
      

    "about": [
      
    ],
  
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="prev" href="components-eib.html" title="Chapter 14. Edge Image Builder"/><link rel="next" href="id-how-to-guides.html" title="Part III. How To Guides"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="wide offline js-off"><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">SUSE Edge Documentation</a><span> / </span><a class="crumb" href="id-components-used-2.html">Components Used</a><span> / </span><a class="crumb" href="id-edge-virtualization.html">Edge Virtualization</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">SUSE Edge Documentation</div><ol><li><a href="id-suse-edge-documentation.html" class=" "><span class="title-number"> </span><span class="title-name">SUSE Edge Documentation</span></a></li><li><a href="id-quickstarts.html" class="has-children "><span class="title-number">I </span><span class="title-name">Quickstarts</span></a><ol><li><a href="quickstart-eib.html" class=" "><span class="title-number">1 </span><span class="title-name">Standalone Clusters with Edge Image Builder</span></a></li><li><a href="id-bmc-automated-deployments-with-metal3.html" class=" "><span class="title-number">2 </span><span class="title-name">BMC automated deployments with Metal<sup>3</sup></span></a></li><li><a href="quickstart-elemental.html" class=" "><span class="title-number">3 </span><span class="title-name">Remote host onboarding with Elemental</span></a></li></ol></li><li class="active"><a href="id-components-used-2.html" class="has-children you-are-here"><span class="title-number">II </span><span class="title-name">Components Used</span></a><ol><li><a href="components-elemental.html" class=" "><span class="title-number">4 </span><span class="title-name">Elemental</span></a></li><li><a href="components-fleet.html" class=" "><span class="title-number">5 </span><span class="title-name">Fleet</span></a></li><li><a href="components-longhorn.html" class=" "><span class="title-number">6 </span><span class="title-name">Longhorn</span></a></li><li><a href="components-metal3.html" class=" "><span class="title-number">7 </span><span class="title-name">Metal³</span></a></li><li><a href="components-metallb.html" class=" "><span class="title-number">8 </span><span class="title-name">MetalLB</span></a></li><li><a href="components-neuvector.html" class=" "><span class="title-number">9 </span><span class="title-name">NeuVector</span></a></li><li><a href="components-rancher.html" class=" "><span class="title-number">10 </span><span class="title-name">Rancher</span></a></li><li><a href="components-slmicro.html" class=" "><span class="title-number">11 </span><span class="title-name">SLE Micro</span></a></li><li><a href="components-k3s.html" class=" "><span class="title-number">12 </span><span class="title-name">K3s</span></a></li><li><a href="components-rke2.html" class=" "><span class="title-number">13 </span><span class="title-name">RKE2</span></a></li><li><a href="components-eib.html" class=" "><span class="title-number">14 </span><span class="title-name">Edge Image Builder</span></a></li><li><a href="id-edge-virtualization.html" class=" you-are-here"><span class="title-number">15 </span><span class="title-name">Edge Virtualization</span></a></li></ol></li><li><a href="id-how-to-guides.html" class="has-children "><span class="title-number">III </span><span class="title-name">How To Guides</span></a><ol><li><a href="guides-metallb-k3s.html" class=" "><span class="title-number">16 </span><span class="title-name">MetalLB on K3s (using L2)</span></a></li><li><a href="guides-metallb-kubernetes.html" class=" "><span class="title-number">17 </span><span class="title-name">MetalLB in front of the Kubernetes API server</span></a></li></ol></li><li><a href="id-third-party-integration.html" class="has-children "><span class="title-number">IV </span><span class="title-name">Third Party Integration</span></a><ol><li><a href="integrations-linkert.html" class=" "><span class="title-number">18 </span><span class="title-name">Using the Linkerd Service Mesh</span></a></li><li><a href="integrations-nats.html" class=" "><span class="title-number">19 </span><span class="title-name">NATS</span></a></li><li><a href="id-nvidia-gpus-on-sle-micro.html" class=" "><span class="title-number">20 </span><span class="title-name">NVIDIA GPU’s on SLE Micro</span></a></li></ol></li><li><a href="id-product-documentation.html" class="has-children "><span class="title-number">V </span><span class="title-name">Product Documentation</span></a><ol><li><a href="atip.html" class=" "><span class="title-number">21 </span><span class="title-name">SUSE Adaptive Telco Infrastructure Platform (ATIP)</span></a></li></ol></li><li><a href="id-appendix.html" class="has-children "><span class="title-number">A </span><span class="title-name">Appendix</span></a><ol><li><a href="id-appendix.html#id-terminology" class=" "><span class="title-number"> </span><span class="title-name">Terminology</span></a></li></ol></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="id-edge-virtualization" data-id-title="Edge Virtualization"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">15 </span><span class="title-name">Edge Virtualization</span></span> <a title="Permalink" class="permalink" href="id-edge-virtualization.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>In this section we’re going to describe how you can use Edge Virtualization to run virtual machines on your edge nodes. It’s important to point out that Edge Virtualization is not a comprehensive solution and has limited features; it attempts to solve requirements for lightweight virtualisation where basic virtual machine capabilities are required. SUSE provides a more comprehensive virtualisation (and hyperconverged infrastructure) solution with <a class="link" href="https://harvesterhci.io/" target="_blank">Harvester</a>.</p><p>SUSE Edge Virtualization supports two methods of running virtual machines:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Deploying the virtual machines manually via libvirt+qemu-kvm at the host level.</p></li><li class="listitem"><p>Deploying the KubeVirt operator for Kubernetes-based management of virtual machines.</p></li></ol></div><p>Both of these options are valid, but only (2) is covered below. If you’re wanting to leverage the standard out of the box virtualisation mechanisms provided by SLE Micro, a comprehensive guide can be found <a class="link" href="https://documentation.suse.com/sles/15-SP5/html/SLES-all/chap-virtualization-introduction.html" target="_blank">here</a>, and whilst it was primarily written for SUSE Linux Enterprise Server, the concepts are largely identical.</p><p>This guide initially explains how to deploy the additional virtualisation components onto a system that has already been pre-deployed, but follows with a section that describes how to embed this configuration into the initial deployment via Edge Image Builder. If you do not want to run through the basics and standing things up manually, skip right ahead to that section.</p><section class="sect1" id="id-kubevirt-overview" data-id-title="KubeVirt Overview"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">15.1 </span><span class="title-name">KubeVirt Overview</span></span> <a title="Permalink" class="permalink" href="id-edge-virtualization.html#id-kubevirt-overview">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>TODO</p></section><section class="sect1" id="id-prerequisites-4" data-id-title="Prerequisites"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">15.2 </span><span class="title-name">Prerequisites</span></span> <a title="Permalink" class="permalink" href="id-edge-virtualization.html#id-prerequisites-4">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>If you’re following this guide, it’s assumed that you’ve got the following already available:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>At least one physical host with SLE Micro 5.5+ installed, and with virtualisation extensions enabled in the BIOS (see <a class="link" href="https://documentation.suse.com/sles/15-SP5/html/SLES-all/cha-virt-support.html#sec-kvm-requires-hardware" target="_blank">here</a> for details).</p></li><li class="listitem"><p>Across your node(s), a K3s/RKE2 Kubernetes cluster already deployed and with an appropriate <code class="literal">kubeconfig</code> that enables super-user access to the cluster.</p></li><li class="listitem"><p>Access to the root user - these instructions assume you’re the root user, and <span class="emphasis"><em>not</em></span> escalating your privileges via <code class="literal">sudo</code>.</p></li><li class="listitem"><p>You’ve got <a class="link" href="https://helm.sh/docs/intro/install/" target="_blank">Helm</a> available locally with an adequate network connection to be able to push configuration to your Kubernetes cluster and download the required images.</p></li></ul></div></section><section class="sect1" id="id-manual-installation-of-edge-virtualization" data-id-title="Manual Installation of Edge Virtualization"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">15.3 </span><span class="title-name">Manual Installation of Edge Virtualization</span></span> <a title="Permalink" class="permalink" href="id-edge-virtualization.html#id-manual-installation-of-edge-virtualization">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>This guide will not walk you through the deployment of Kubernetes, but it’s assumed that you’ve either installed the SUSE Edge appropriate version of <a class="link" href="https://k3s.io/" target="_blank">k3s</a> or <a class="link" href="https://docs.rke2.io/install/quickstart" target="_blank">RKE2</a> and that you’ve got your kubeconfig configured accordingly so that standard <code class="literal">kubectl</code> commands can be executed as the superuser. We assume that your node forms a single-node cluster, although there’s no reason why the instructions would differ considerably for multi-node clusters.</p><p>SUSE Edge Virtualization is deployed via three separate Helm charts, specifically:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="strong"><strong>KubeVirt</strong></span>: The core virtualisation components, i.e. Kubernetes CRD’s, operators, and other components required for enabling Kubernetes to deploy and manage virtual machines.</p></li><li class="listitem"><p><span class="strong"><strong>KubeVirt Dashboard Extension</strong></span>: An optional Rancher UI extension that allows basic virtual machine management, e.g. starting/stopping of virtual machines as well as accessing the console.</p></li><li class="listitem"><p><span class="strong"><strong>Containerized Data Importer (CDI)</strong></span>: An additional component that enables persistent-storage integration for KubeVirt, providing capabilities for virtual machines to leverage existing Kubernetes storage backends for data, but also allowing users to import or clone data volumes for virtual machines.</p></li></ul></div><p>Each of these Helm charts is versioned according to the SUSE Edge release that you’re currently leveraging, and for production/supported usage you should leverage the artefacts that can be found in the SUSE Registry.</p><p>Firstly, ensure that your <code class="literal">kubectl</code> access is working:</p><div class="verbatim-wrap"><pre class="screen">$ kubectl get nodes</pre></div><p>This should show something similar to the following:</p><div class="verbatim-wrap"><pre class="screen">NAME                   STATUS   ROLES                       AGE     VERSION
node1.edge.rdo.wales   Ready    control-plane,etcd,master   4h20m   v1.28.6+rke2r1
node2.edge.rdo.wales   Ready    control-plane,etcd,master   4h15m   v1.28.6+rke2r1
node3.edge.rdo.wales   Ready    control-plane,etcd,master   4h15m   v1.28.6+rke2r1</pre></div><p>Next, add the SUSE Edge Helm charts repository and refresh the content:</p><div class="verbatim-wrap"><pre class="screen">$ helm repo add suse-edge https://suse-edge.github.io/charts &amp;&amp; helm repo update</pre></div><div class="blockquote"><blockquote class="blockquote"><p>TODO: Update this with the official shipped repo.</p></blockquote></div><p>Now you can proceed to install the <span class="strong"><strong>KubeVirt</strong></span> and <span class="strong"><strong>Containerized Data Importer (CDI)</strong></span> helm charts:</p><div class="verbatim-wrap"><pre class="screen">$ helm upgrade -i kubevirt suse-edge/kubevirt --namespace kubevirt-system --create-namespace
$ helm upgrade -i cdi suse-edge/cdi --namespace kubevirt-system --create-namespace</pre></div><p>After a few minutes, you should have all of the KubeVirt and CDI components deployed, you can validate this by checking all of the deployed pods in the <span class="strong"><strong>kubevirt-system</strong></span> namespace:</p><div class="verbatim-wrap"><pre class="screen">$ kubectl get pods -n kubevirt-system</pre></div><p>Which should show something similar to the following:</p><div class="verbatim-wrap"><pre class="screen">NAME                               READY   STATUS    RESTARTS      AGE
cdi-apiserver-758978b778-sjj78     1/1     Running   0             43s
cdi-deployment-7556dc5754-9rrc4    1/1     Running   0             42s
cdi-operator-68f9b475db-zdp9v      1/1     Running   0             60s
cdi-uploadproxy-685cf9ff96-pzgxz   1/1     Running   0             41s
virt-api-7f97cbd59d-7bwrd          1/1     Running   1 (41s ago)   90s
virt-api-7f97cbd59d-qj96r          1/1     Running   1 (41s ago)   90s
virt-controller-c64749d57-m5ps2    1/1     Running   1 (46s ago)   64s
virt-controller-c64749d57-wvnrf    1/1     Running   1 (46s ago)   64s
virt-handler-9rxqj                 1/1     Running   0             63s
virt-handler-d5b5c                 1/1     Running   0             63s
virt-handler-ttmrb                 1/1     Running   0             63s
virt-operator-b4bbb75d9-n7s2j      1/1     Running   0             2m11s
virt-operator-b4bbb75d9-rxwqs      1/1     Running   0             2m11s</pre></div><p>To verify that the <code class="literal">VirtualMachine</code> custom resource definitions (CRD’s) are deployed, you can validate with:</p><div class="verbatim-wrap"><pre class="screen">$ kubectl explain virtualmachine</pre></div><p>This should print out the definition of the <code class="literal">VirtualMachine</code> object, which should print as follows:</p><div class="verbatim-wrap"><pre class="screen">GROUP:      kubevirt.io
KIND:       VirtualMachine
VERSION:    v1

DESCRIPTION:
    VirtualMachine handles the VirtualMachines that are not running or are in a
    stopped state The VirtualMachine contains the template to create the
    VirtualMachineInstance. It also mirrors the running state of the created
    VirtualMachineInstance in its status.
(snip)</pre></div></section><section class="sect1" id="id-deploying-virtual-machines" data-id-title="Deploying Virtual Machines"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">15.4 </span><span class="title-name">Deploying Virtual Machines</span></span> <a title="Permalink" class="permalink" href="id-edge-virtualization.html#id-deploying-virtual-machines">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>Now that we’ve got KubeVirt and CDI deployed, let’s try and define a very simple virtual machine based on <a class="link" href="https://get.opensuse.org/tumbleweed/" target="_blank">openSUSE Tumbleweed</a>. This virtual machine will have the most simple of configurations, using standard "pod networking", i.e. it will have a very similar networking configuration to any other pod, and non-persistent storage, i.e. the storage will be ephemeral, just like any other container that doesn’t have a <a class="link" href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/" target="_blank">PVC</a>.</p><div class="verbatim-wrap"><pre class="screen">$ kubectl apply -f - &lt;&lt;EOF
apiVersion: kubevirt.io/v1
kind: VirtualMachine
metadata:
  name: tumbleweed
  namespace: default
spec:
  runStrategy: Always
  template:
    spec:
      domain:
        devices: {}
        machine:
          type: q35
        memory:
          guest: 2Gi
        resources: {}
      volumes:
      - containerDisk:
          image: registry.opensuse.org/home/roxenham/tumbleweed-container-disk/containerfile/cloud-image:latest
        name: tumbleweed-containerdisk-0
      - cloudInitNoCloud:
          userDataBase64: I2Nsb3VkLWNvbmZpZwpkaXNhYmxlX3Jvb3Q6IGZhbHNlCnNzaF9wd2F1dGg6IFRydWUKdXNlcnM6CiAgLSBkZWZhdWx0CiAgLSBuYW1lOiBzdXNlCiAgICBncm91cHM6IHN1ZG8KICAgIHNoZWxsOiAvYmluL2Jhc2gKICAgIHN1ZG86ICBBTEw9KEFMTCkgTk9QQVNTV0Q6QUxMCiAgICBsb2NrX3Bhc3N3ZDogRmFsc2UKICAgIHBsYWluX3RleHRfcGFzc3dkOiAnc3VzZScK
        name: cloudinitdisk
EOF</pre></div><p>This should print that a <code class="literal">VirtualMachine</code> was created:</p><div class="verbatim-wrap"><pre class="screen">virtualmachine.kubevirt.io/tumbleweed created</pre></div><p>This <code class="literal">VirtualMachine</code> definition is very simple, it specifies very little about the configuration, simply that it’s a machine type "<a class="link" href="https://wiki.qemu.org/Features/Q35" target="_blank">q35</a>", has 2GB memory, uses a disk image based on a <code class="literal"><a class="link" href="https://kubevirt.io/user-guide/virtual_machines/disks_and_volumes/#containerdisk" target="_blank">containerDisk</a></code> (i.e. a disk image that’s stored in a container image from a remote image repository) that’s ephemeral, and specifies a base64 encoded cloudInit disk, which we only use to create a new user and force a password for it at boot time (use <code class="literal">base64 -d</code> to decode it).</p><div class="blockquote"><blockquote class="blockquote"><div id="id-1.4.14.10.7.1" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note</div><p>This virtual machine image is only for testing; it’s not an officially supported image and should only be used as an example as part of the documentation.</p></div></blockquote></div><p>This machine will take a few minutes to boot as it will need to download the openSUSE Tumbleweed disk image, but once it has done so you can view further details about the virtual machine by checking the virtual machine information:</p><div class="verbatim-wrap"><pre class="screen">$ kubectl get vmi</pre></div><p>Which should print the node that the virtual machine was started on, and the IP address of the virtual machine, remembering that it’s actually using pod networking, so the IP address reported here will be just like any other pod, and routable as such:</p><div class="verbatim-wrap"><pre class="screen">NAME         AGE     PHASE     IP           NODENAME               READY
tumbleweed   4m24s   Running   10.42.2.98   node3.edge.rdo.wales   True</pre></div><p>If you’re running these commands on the Kubernetes cluster nodes itself and you have a CNI that will route traffic directly to pods (e.g. Cilium), you should be able to try and <code class="literal">ssh</code> directly to the machine itself, noting that you’ll need to substitute the following IP address with the one that was assigned to your virtual machine:</p><div class="verbatim-wrap"><pre class="screen">$ ssh suse@10.42.2.98
(password is "suse")</pre></div><p>Once you’re in this virtual machine, you can play around but remember that it’s very limited in terms of resources, and only has 1GB disk space. When you’re finished, <code class="literal">Ctrl-D</code> or <code class="literal">exit</code> to disconnect from the SSH session.</p><p>The virtual machine process is still wrapped in a standard Kubernetes pod; the <code class="literal">VirtualMachine</code> CRD is a representation of the desired virtual machine, but the process in which the virtual machine is actually started is via the <code class="literal"><a class="link" href="https://github.com/kubevirt/kubevirt/blob/main/docs/components.md#virt-launcher" target="_blank">virt-launcher</a></code> pod, a standard Kubernetes pod, just like any other application. For every virtual machine started, you’ll find there’s a <code class="literal">virt-launcher</code> pod:</p><div class="verbatim-wrap"><pre class="screen">$ kubectl get pods</pre></div><p>This should then show the one <code class="literal">virt-launcher</code> pod for the tumbleweed machine that we’ve defined:</p><div class="verbatim-wrap"><pre class="screen">NAME                             READY   STATUS    RESTARTS   AGE
virt-launcher-tumbleweed-8gcn4   3/3     Running   0          10m</pre></div><p>If we take a look into this <code class="literal">virt-launcher</code> pod, you’ll see that it’s simply executing <code class="literal">libvirt</code> and <code class="literal">qemu-kvm</code> processes. We can enter into the pod itself and have a look under the covers, noting that you’ll need to adapt the following command for your pod name:</p><div class="verbatim-wrap"><pre class="screen">$ kubectl exec -it virt-launcher-tumbleweed-8gcn4 -- bash</pre></div><p>Once you’re in the pod, try running some <code class="literal">virsh</code> commands along with looking at the processes, you’ll see the <code class="literal">qemu-system-x86_64</code> binary running, along with some processes for monitoring the virtual machine. You’ll also see the location of the disk image and how the networking is plugged (as a tap device):</p><div class="verbatim-wrap"><pre class="screen">qemu@tumbleweed:/&gt; ps ax
  PID TTY      STAT   TIME COMMAND
    1 ?        Ssl    0:00 /usr/bin/virt-launcher-monitor --qemu-timeout 269s --name tumbleweed --uid b9655c11-38f7-4fa8-8f5d-bfe987dab42c --namespace default --kubevirt-share-dir /var/run/kubevirt --ephemeral-disk-dir /var/run/kubevirt-ephemeral-disks --container-disk-dir /var/run/kube
   12 ?        Sl     0:01 /usr/bin/virt-launcher --qemu-timeout 269s --name tumbleweed --uid b9655c11-38f7-4fa8-8f5d-bfe987dab42c --namespace default --kubevirt-share-dir /var/run/kubevirt --ephemeral-disk-dir /var/run/kubevirt-ephemeral-disks --container-disk-dir /var/run/kubevirt/con
   24 ?        Sl     0:00 /usr/sbin/virtlogd -f /etc/libvirt/virtlogd.conf
   25 ?        Sl     0:01 /usr/sbin/virtqemud -f /var/run/libvirt/virtqemud.conf
   83 ?        Sl     0:31 /usr/bin/qemu-system-x86_64 -name guest=default_tumbleweed,debug-threads=on -S -object {"qom-type":"secret","id":"masterKey0","format":"raw","file":"/var/run/kubevirt-private/libvirt/qemu/lib/domain-1-default_tumbleweed/master-key.aes"} -machine pc-q35-7.1,usb
  286 pts/0    Ss     0:00 bash
  320 pts/0    R+     0:00 ps ax

qemu@tumbleweed:/&gt; virsh list --all
 Id   Name                 State
------------------------------------
 1    default_tumbleweed   running

qemu@tumbleweed:/&gt; virsh domblklist 1
 Target   Source
---------------------------------------------------------------------------------------------
 sda      /var/run/kubevirt-ephemeral-disks/disk-data/tumbleweed-containerdisk-0/disk.qcow2
 sdb      /var/run/kubevirt-ephemeral-disks/cloud-init-data/default/tumbleweed/noCloud.iso

qemu@tumbleweed:/&gt; virsh domiflist 1
 Interface   Type       Source   Model                     MAC
------------------------------------------------------------------------------
 tap0        ethernet   -        virtio-non-transitional   e6:e9:1a:05:c0:92

qemu@tumbleweed:/&gt; exit
exit</pre></div><p>Finally, let’s delete this virtual machine to cleanup:</p><div class="verbatim-wrap"><pre class="screen">$ kubectl delete vm/tumbleweed
virtualmachine.kubevirt.io "tumbleweed" deleted</pre></div></section><section class="sect1" id="id-using-virtctl" data-id-title="Using virtctl"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">15.5 </span><span class="title-name">Using virtctl</span></span> <a title="Permalink" class="permalink" href="id-edge-virtualization.html#id-using-virtctl">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>Along with the standard Kubernetes CLI tooling, i.e. <code class="literal">kubectl</code>, KubeVirt comes with an accompanying CLI utility that allows you to interface with your cluster in a way that bridges some of the gaps between the virtualisation world and the world that Kubernetes was designed for. For example, the <code class="literal">virtctl</code> tool provides the capability of managing the lifecycle of virtual machines (starting, stopping, restarting, etc), providing access to the virtual consoles, uploading virtual machine images, as well as interfacing with Kubernetes constructs such as services, without using the API or CRD’s directly.</p><p>Let’s download the latest stable version of the <code class="literal">virtctl</code> tool:</p><div class="verbatim-wrap"><pre class="screen">$ export VERSION=v1.1.0
$ wget https://github.com/kubevirt/kubevirt/releases/download/${VERSION}/virtctl-${VERSION}-linux-amd64</pre></div><p>If you’re using a different architecture or a non-Linux machine, you can find other releases <a class="link" href="https://github.com/kubevirt/kubevirt/releases" target="_blank">here</a>. You’ll need to make this executable before proceeding, and it may be useful to move it to a location within your <code class="literal">$PATH</code>:</p><div class="verbatim-wrap"><pre class="screen">$ mv virtctl-${VERSION}-linux-amd64 /usr/local/bin/virtctl
$ chmod a+x /usr/local/bin/virtctl</pre></div><p>You can then use the <code class="literal">virtctl</code> command line tool to create virtual machines, let’s replicate our previous virtual machine, noting that we’re piping the output directly into <code class="literal">kubectl apply</code>:</p><div class="verbatim-wrap"><pre class="screen">$ virtctl create vm --name virtctl-example --memory=1Gi \
    --volume-containerdisk=src:registry.opensuse.org/home/roxenham/tumbleweed-container-disk/containerfile/cloud-image:latest \
    --cloud-init-user-data "I2Nsb3VkLWNvbmZpZwpkaXNhYmxlX3Jvb3Q6IGZhbHNlCnNzaF9wd2F1dGg6IFRydWUKdXNlcnM6CiAgLSBkZWZhdWx0CiAgLSBuYW1lOiBzdXNlCiAgICBncm91cHM6IHN1ZG8KICAgIHNoZWxsOiAvYmluL2Jhc2gKICAgIHN1ZG86ICBBTEw9KEFMTCkgTk9QQVNTV0Q6QUxMCiAgICBsb2NrX3Bhc3N3ZDogRmFsc2UKICAgIHBsYWluX3RleHRfcGFzc3dkOiAnc3VzZScK" | kubectl apply -f -</pre></div><p>This should then show the virtual machine running (it should start a lot quicker this time given that the container image will be cached):</p><div class="verbatim-wrap"><pre class="screen">$ kubectl get vmi
NAME              AGE   PHASE     IP           NODENAME               READY
virtctl-example   52s   Running   10.42.2.29   node3.edge.rdo.wales   True</pre></div><p>Now we can use <code class="literal">virtctl</code> to connect directly to the virtual machine:</p><div class="verbatim-wrap"><pre class="screen">$ virtctl ssh suse@virtctl-example
(password is "suse" - Ctrl-D to exit)</pre></div><p>There are plenty of other commands that can be used by <code class="literal">virtctl</code>, e.g. <code class="literal">virtctl console</code> can give you access to the serial console if networking isn’t working, and you can use <code class="literal">virtctl  guestosinfo</code> to get comprehensive OS information, subject to the guest having the <code class="literal">qemu-guest-agent</code> installed and running.</p><p>Finally, let’s try to pause and resume the virtual machine:</p><div class="verbatim-wrap"><pre class="screen">$ virtctl pause vm virtctl-example
VMI virtctl-example was scheduled to pause</pre></div><p>You’ll find that the <code class="literal">VirtualMachine</code> object will show as <span class="strong"><strong>Paused</strong></span> and the <code class="literal">VirtualMachineInstance</code> object will show as <span class="strong"><strong>Running</strong></span> but <span class="strong"><strong>READY=False</strong></span>:</p><div class="verbatim-wrap"><pre class="screen">$ kubectl get vm
NAME              AGE     STATUS   READY
virtctl-example   8m14s   Paused   False

$ kubectl get vmi
NAME              AGE     PHASE     IP           NODENAME               READY
virtctl-example   8m15s   Running   10.42.2.29   node3.edge.rdo.wales   False</pre></div><p>You’ll also find that you can no longer connect to the virtual machine:</p><div class="verbatim-wrap"><pre class="screen">$ virtctl ssh suse@virtctl-example
can't access VMI virtctl-example: Operation cannot be fulfilled on virtualmachineinstance.kubevirt.io "virtctl-example": VMI is paused</pre></div><p>Let’s resume the virtual machine and try again:</p><div class="verbatim-wrap"><pre class="screen">$ virtctl unpause vm virtctl-example
VMI virtctl-example was scheduled to unpause</pre></div><p>Now we should be able to re-establish a connection:</p><div class="verbatim-wrap"><pre class="screen">$ virtctl ssh suse@virtctl-example
suse@vmi/virtctl-example.default's password:
suse@virtctl-example:~&gt; exit
logout</pre></div><p>Finally, let’s remove the virtual machine:</p><div class="verbatim-wrap"><pre class="screen">$ kubectl delete vm/virtctl-example
virtualmachine.kubevirt.io "virtctl-example" deleted</pre></div></section><section class="sect1" id="id-simple-ingress-networking" data-id-title="Simple Ingress Networking"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">15.6 </span><span class="title-name">Simple Ingress Networking</span></span> <a title="Permalink" class="permalink" href="id-edge-virtualization.html#id-simple-ingress-networking">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>In this section we’ll show how you can expose virtual machines as standard Kubernetes services and make them available via the Kubernetes ingress service, e.g. <a class="link" href="https://docs.rke2.io/networking#nginx-ingress-controller" target="_blank">nginx with RKE2</a> or <a class="link" href="https://docs.k3s.io/networking#traefik-ingress-controller" target="_blank">Traefik with k3s</a>. This document assumes that these components are already configured appropriately and that you have an appropriate DNS pointer, e.g. via a wildcard, to point at your Kubernetes server node(s) or your ingress virtual IP for proper ingress resolution.</p><div class="blockquote"><blockquote class="blockquote"><div id="id-1.4.14.12.3.1" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note</div><p>In SUSE Edge 3.0+, if you’re using k3s in a multi-server node configuration, you will have needed to configure a MetalLB-based VIP for Ingress; this is not required for RKE2.</p></div></blockquote></div><p>In the example environment, I’m going to deploy another openSUSE Tumbleweed virtual machine, and use cloud-init to install nginx as a simple web-server at boot time, and configure a very simple message to verify that it’s working as expected when a call is made. If you want to see how this is done, simply <code class="literal">base64 -d</code> the cloud-init section in the output below.</p><p>Let’s create this virtual machine now:</p><div class="verbatim-wrap"><pre class="screen">$ kubectl apply -f - &lt;&lt;EOF
apiVersion: kubevirt.io/v1
kind: VirtualMachine
metadata:
  name: ingress-example
  namespace: default
spec:
  runStrategy: Always
  template:
    metadata:
      labels:
        app: nginx
    spec:
      domain:
        devices: {}
        machine:
          type: q35
        memory:
          guest: 2Gi
        resources: {}
      volumes:
      - containerDisk:
          image: registry.opensuse.org/home/roxenham/tumbleweed-container-disk/containerfile/cloud-image:latest
        name: tumbleweed-containerdisk-0
      - cloudInitNoCloud:
          userDataBase64: I2Nsb3VkLWNvbmZpZwpkaXNhYmxlX3Jvb3Q6IGZhbHNlCnNzaF9wd2F1dGg6IFRydWUKdXNlcnM6CiAgLSBkZWZhdWx0CiAgLSBuYW1lOiBzdXNlCiAgICBncm91cHM6IHN1ZG8KICAgIHNoZWxsOiAvYmluL2Jhc2gKICAgIHN1ZG86ICBBTEw9KEFMTCkgTk9QQVNTV0Q6QUxMCiAgICBsb2NrX3Bhc3N3ZDogRmFsc2UKICAgIHBsYWluX3RleHRfcGFzc3dkOiAnc3VzZScKcnVuY21kOgogIC0genlwcGVyIGluIC15IG5naW54CiAgLSBzeXN0ZW1jdGwgZW5hYmxlIC0tbm93IG5naW54CiAgLSBlY2hvICJJdCB3b3JrcyEiID4gL3Nydi93d3cvaHRkb2NzL2luZGV4Lmh0bQo=
        name: cloudinitdisk
EOF</pre></div><p>When this virtual machine has successfully started, we can use the <code class="literal">virtctl</code> command to expose the <code class="literal">VirtualMachineInstance</code> with an external port of <code class="literal">8080</code> and a target port of <code class="literal">80</code> (where nginx listens by default). We use the <code class="literal">virtctl</code> command here as it understands the mapping between the virtual machine object and the pod. This will create a new service for us:</p><div class="verbatim-wrap"><pre class="screen">$ virtctl expose vmi ingress-example --port=8080 --target-port=80 --name=ingress-example
Service ingress-example successfully exposed for vmi ingress-example</pre></div><p>We’ll then have an appropriate service automatically created:</p><div class="verbatim-wrap"><pre class="screen">$ kubectl get svc/ingress-example
NAME              TYPE           CLUSTER-IP      EXTERNAL-IP       PORT(S)                         AGE
ingress-example   ClusterIP      10.43.217.19    &lt;none&gt;            8080/TCP                        9s</pre></div><p>Next, if you then use <code class="literal">kubectl create ingress</code> we can create an ingress object that points to this service. Make sure to adapt the URL (known as the "host" in the <a class="link" href="https://kubernetes.io/docs/reference/kubectl/generated/kubectl_create/kubectl_create_ingress/" target="_blank">ingress</a> object) here to match your DNS configuration, and ensure that you point it to port <code class="literal">8080</code>:</p><div class="verbatim-wrap"><pre class="screen">$ kubectl create ingress ingress-example --rule=ingress-example.suse.local/=ingress-example:8080</pre></div><p>With DNS being configured correctly, you should be able to curl the URL immediately:</p><div class="verbatim-wrap"><pre class="screen">$ curl ingress-example.suse.local
It works!</pre></div><p>Let’s clean-up by removing this virtual machine and its service and ingress resources:</p><div class="verbatim-wrap"><pre class="screen">$ kubectl delete vm/ingress-example svc/ingress-example ingress/ingress-example
virtualmachine.kubevirt.io "ingress-example" deleted
service "ingress-example" deleted
ingress.networking.k8s.io "ingress-example" deleted</pre></div></section><section class="sect1" id="id-advanced-networking" data-id-title="Advanced Networking"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">15.7 </span><span class="title-name">Advanced Networking</span></span> <a title="Permalink" class="permalink" href="id-edge-virtualization.html#id-advanced-networking">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>TODO</p></section><section class="sect1" id="id-using-persistent-storage" data-id-title="Using Persistent Storage"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">15.8 </span><span class="title-name">Using Persistent Storage</span></span> <a title="Permalink" class="permalink" href="id-edge-virtualization.html#id-using-persistent-storage">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>TODO</p></section><section class="sect1" id="id-integrating-pci-devices-e-g-gpus" data-id-title="Integrating PCI Devices, e.g. GPU’s"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">15.9 </span><span class="title-name">Integrating PCI Devices, e.g. GPU’s</span></span> <a title="Permalink" class="permalink" href="id-edge-virtualization.html#id-integrating-pci-devices-e-g-gpus">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>TODO</p></section><section class="sect1" id="id-live-migration-for-maintenance" data-id-title="Live Migration for Maintenance"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">15.10 </span><span class="title-name">Live Migration for Maintenance</span></span> <a title="Permalink" class="permalink" href="id-edge-virtualization.html#id-live-migration-for-maintenance">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>TODO</p></section><section class="sect1" id="id-importing-guests-with-cdi" data-id-title="Importing Guests with CDI"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">15.11 </span><span class="title-name">Importing Guests with CDI</span></span> <a title="Permalink" class="permalink" href="id-edge-virtualization.html#id-importing-guests-with-cdi">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>TODO</p></section><section class="sect1" id="id-using-the-rancher-ui-extension" data-id-title="Using the Rancher UI Extension"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">15.12 </span><span class="title-name">Using the Rancher UI Extension</span></span> <a title="Permalink" class="permalink" href="id-edge-virtualization.html#id-using-the-rancher-ui-extension">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>SUSE Edge Virtualization provides an UI Extension for Rancher manager which provides basic virtual machine management using the Rancher dashboard UI.</p><section class="sect2" id="id-installation-3" data-id-title="Installation"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">15.12.1 </span><span class="title-name">Installation</span></span> <a title="Permalink" class="permalink" href="id-edge-virtualization.html#id-installation-3">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>The extension installation follows general guidance on installation of the <a class="link" href="https://ranchermanager.docs.rancher.com/integrations-in-rancher/rancher-extensions#installing-extensions" target="_blank">Rancher dashboard extensions</a>.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Navigate to Extensions page by clicking <span class="strong"><strong>☰ &gt; Extensions</strong></span> under Configuration section.</p></li><li class="listitem"><p>On the upper right of screen, click on <span class="strong"><strong>⋮ &gt; Manage Repositories &gt; Create</strong></span>.</p></li><li class="listitem"><p>Add add the SUSE Edge Helm charts repository <a class="link" href="https://suse-edge.github.io/charts" target="_blank">https://suse-edge.github.io/charts</a>.</p><div class="informalfigure"><div class="mediaobject"><a href="images/install-suse-edge-repository-via-ui.png"><img src="images/install-suse-edge-repository-via-ui.png" width="NaN" alt="install suse edge repository via ui" title="install suse edge repository via ui"/></a></div></div></li><li class="listitem"><p>The Suse Edge Dashboard UI extensions are now available in <span class="strong"><strong>Extensions</strong></span> page under <span class="strong"><strong>Available</strong></span> tab.</p></li><li class="listitem"><p>Click <span class="strong"><strong>Install</strong></span> button on the <code class="literal">KubeVirt</code> extension to install it.</p></li></ol></div><p>Note that since we have added SUSE Edge Helm charts repository in the Rancher <span class="strong"><strong>Apps</strong></span> section, it is possible to install and manage SUSE Edge charts as Applications from Rancher Charts catalog. See <a class="link" href="https://ranchermanager.docs.rancher.com/how-to-guides/new-user-guides/helm-charts-in-rancher" target="_blank">Rancher manager documentation</a> for more information.</p></section><section class="sect2" id="id-using-kubevirt-rancher-dashboard-extension" data-id-title="Using KubeVirt Rancher Dashboard Extension"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">15.12.2 </span><span class="title-name">Using KubeVirt Rancher Dashboard Extension</span></span> <a title="Permalink" class="permalink" href="id-edge-virtualization.html#id-using-kubevirt-rancher-dashboard-extension">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>The extension introduces a new <span class="strong"><strong>KubeVirt</strong></span> section to the Cluster Explorer. This section will be added to any managed cluster which has KubeVirt installed.</p><p>The extension allows you to directly interact with 2 KubeVirt resources:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="literal">Virtual Machine instances</code> - A resource representing single running virtual machine instance.</p></li><li class="listitem"><p><code class="literal">Virtual Machines</code> - A resource used to manage virtual machines lifecycle.</p></li></ol></div><section class="sect3" id="id-creating-a-virtual-machine" data-id-title="Creating a Virtual Machine"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">15.12.2.1 </span><span class="title-name">Creating a Virtual Machine</span></span> <a title="Permalink" class="permalink" href="id-edge-virtualization.html#id-creating-a-virtual-machine">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Navigate to <span class="strong"><strong>Cluster Eeplorer</strong></span> clicking KubeVirt-enabled managed cluster in the left navigation.</p></li><li class="listitem"><p>Navigate to <span class="strong"><strong>KubeVirt &gt; Virtual Machines</strong></span> page and click <code class="literal">Create from YAML</code> at the top right of the screen.</p></li><li class="listitem"><p>Fill in or paste a virtual machine definition and press <code class="literal">Create</code>. Use virtual machine definition from Deploying Virtual Machines section as an inspiration.</p></li></ol></div><div class="informalfigure"><div class="mediaobject"><a href="images/virtual-machines-page.png"><img src="images/virtual-machines-page.png" width="NaN" alt="virtual machines page" title="virtual machines page"/></a></div></div></section><section class="sect3" id="id-starting-and-stoping-virtual-machines" data-id-title="Starting and Stoping Virtual Machines"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">15.12.2.2 </span><span class="title-name">Starting and Stoping Virtual Machines</span></span> <a title="Permalink" class="permalink" href="id-edge-virtualization.html#id-starting-and-stoping-virtual-machines">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>You can start and stop virtual machines using action menu accessed from the <span class="strong"><strong>⋮</strong></span> dropdown to the right of each virtual machine or use group actions at the top of the list by selecting virtual machines to perform the action on.</p><p>Note that it is possible to run start and stop actions only on the virtual machines which have <code class="literal">spec.running</code> property defined. In case when <code class="literal">spec.runStrategy</code> is used, it is not possible to directly start and stop such machine. For more information see <a class="link" href="https://kubevirt.io/user-guide/virtual_machines/run_strategies/#run-strategies" target="_blank">KubeVirt documentation</a>.</p></section><section class="sect3" id="id-accessing-virtual-machine-console" data-id-title="Accessing Virtual Machine Console"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">15.12.2.3 </span><span class="title-name">Accessing Virtual Machine Console</span></span> <a title="Permalink" class="permalink" href="id-edge-virtualization.html#id-accessing-virtual-machine-console">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>Virtual machines list provides a <code class="literal">Console</code> dropdown which allows to connect to the machine using <span class="strong"><strong>VNC or Serial Console</strong></span>. This action is only available to running machines.</p><p>Note that in some cases it takes a short while before the console is accessible on a freshly started virtual machine.</p><div class="informalfigure"><div class="mediaobject"><a href="images/vnc-console-ui.png"><img src="images/vnc-console-ui.png" width="NaN" alt="vnc console ui" title="vnc console ui"/></a></div></div></section></section></section><section class="sect1" id="id-configuring-with-edge-image-builder" data-id-title="Configuring with Edge Image Builder"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">15.13 </span><span class="title-name">Configuring with Edge Image Builder</span></span> <a title="Permalink" class="permalink" href="id-edge-virtualization.html#id-configuring-with-edge-image-builder">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>Start content here</p></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="components-eib.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 14 </span>Edge Image Builder</span></a> </div><div><a class="pagination-link next" href="id-how-to-guides.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Part III </span>How To Guides</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="section"><a href="id-edge-virtualization.html#id-kubevirt-overview"><span class="title-number">15.1 </span><span class="title-name">KubeVirt Overview</span></a></span></li><li><span class="section"><a href="id-edge-virtualization.html#id-prerequisites-4"><span class="title-number">15.2 </span><span class="title-name">Prerequisites</span></a></span></li><li><span class="section"><a href="id-edge-virtualization.html#id-manual-installation-of-edge-virtualization"><span class="title-number">15.3 </span><span class="title-name">Manual Installation of Edge Virtualization</span></a></span></li><li><span class="section"><a href="id-edge-virtualization.html#id-deploying-virtual-machines"><span class="title-number">15.4 </span><span class="title-name">Deploying Virtual Machines</span></a></span></li><li><span class="section"><a href="id-edge-virtualization.html#id-using-virtctl"><span class="title-number">15.5 </span><span class="title-name">Using virtctl</span></a></span></li><li><span class="section"><a href="id-edge-virtualization.html#id-simple-ingress-networking"><span class="title-number">15.6 </span><span class="title-name">Simple Ingress Networking</span></a></span></li><li><span class="section"><a href="id-edge-virtualization.html#id-advanced-networking"><span class="title-number">15.7 </span><span class="title-name">Advanced Networking</span></a></span></li><li><span class="section"><a href="id-edge-virtualization.html#id-using-persistent-storage"><span class="title-number">15.8 </span><span class="title-name">Using Persistent Storage</span></a></span></li><li><span class="section"><a href="id-edge-virtualization.html#id-integrating-pci-devices-e-g-gpus"><span class="title-number">15.9 </span><span class="title-name">Integrating PCI Devices, e.g. GPU’s</span></a></span></li><li><span class="section"><a href="id-edge-virtualization.html#id-live-migration-for-maintenance"><span class="title-number">15.10 </span><span class="title-name">Live Migration for Maintenance</span></a></span></li><li><span class="section"><a href="id-edge-virtualization.html#id-importing-guests-with-cdi"><span class="title-number">15.11 </span><span class="title-name">Importing Guests with CDI</span></a></span></li><li><span class="section"><a href="id-edge-virtualization.html#id-using-the-rancher-ui-extension"><span class="title-number">15.12 </span><span class="title-name">Using the Rancher UI Extension</span></a></span></li><li><span class="section"><a href="id-edge-virtualization.html#id-configuring-with-edge-image-builder"><span class="title-number">15.13 </span><span class="title-name">Configuring with Edge Image Builder</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>